<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <meta charset="UTF-8" name="viewport" content="width=device-width, user-scalable=no">
    <script language="javascript" type="text/javascript"  src="./lib/vector.js"></script>
    <script language="javascript" type="text/javascript"  src="./lib/drawbase.js"></script>
    <script language="javascript"  type="text/javascript" src="./lib/matrix.js"></script>
    <script language="javascript"  type="text/javascript" src="./lib/DomObject.js"></script>
    <script src="./wordlist.js"></script>
    <script language="javascript"  type="text/javascript" src="./lib/PhysicsObject.js"></script>
    <script language="javascript"  type="text/javascript" src="./lib/Character.js"></script>
    <script language="javascript" type="text/javascript" src="./lib/eventemitter.js"></script>
    <script language="javascript" type="text/javascript"  src="./one/words.js"></script>
    <script language="javascript" type="text/javascript"  src="./one/sentences.js"></script>
</head>
<body>
<p id="test"></p>
<p id="words"></p>
<p id="sentences"></p>

<script>
   id('words').innerText = 'width: ' + width  + 'px';
   id('sentences').innerText = 'height: ' + height + 'px';
    let p = document.getElementById('test');

    document.addEventListener('touchstart',ev=>{
        //ev.touches.length;
        p.innerText =  'touched with '+ ev.touches.length + ' fingers at: ';
        Array(ev.touches.length).fill('').forEach((bleh,i)=>{
            let x = ev.touches[i].clientX;
            let y =  ev.touches[i].clientY;
            p.innerText += '\nx: '+ x + '| y:   ' + (y);
            let tmp = new P('X',x,y-25);
            tmp.shape.style.color = 'black'
            tmp.shape.style.fontsize = '2em';
            setTimeout(()=>{
                tmp.remove();
            },1000)
        })
    })
    
    
    let table = document.createElement('table')
    document.body.appendChild(table)
    table.style.border = 'solid black 1px'
    let r = addRow()
    addCol(r,['Word','l','uniq','Dmg Eff.','FS Dmg.','Total Dmg','dps'])
    function addRow(){
        let row = document.createElement('tr')
        table.appendChild(row)
        return row
        }
    function addCol(row, data){
        for(let i=0; i<data.length;i++){
        let col = document.createElement('th')
        col.innerText = data[i]
        row.appendChild(col)
        }
        //return col
    }
    let rn = getRandom(1000)
    let testw = MASTER_WORD_LIST.slice(rn,rn+25)
    
    let calcd = []
   testw.forEach(w=>{
      let l = w.length;
      let temp = []
      let uniq = w.split('').reduce((a,x)=>{
          if(temp.includes(x)){
              return a
          }else{
             temp.push(x)
             return 1 +a
          }
      },0)
      let eff = (l/uniq).toPrecision(3)
      let dmg = Math.sqrt(eff)*(l-1)
      let row = addRow()
      calcd.push([w,((dmg+l)/l)])
      addCol(row,[w,l,uniq,eff,dmg.toPrecision(3), (dmg+l).toPrecision(3), ((dmg+l)/l).toPrecision(3)])
   })
   calcd = calcd.sort((a,b)=>a[1]-b[1])
   let avg = calcd.reduce((a,b)=>a+b[1],0)/calcd.length
   
   console.log(avg.toPrecision(2),calcd.map((x,i)=>(x[1]-avg).toPrecision(2)))
   
   
   
   
   
    




</script>

</body>
</html>